generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Account {
  id                String    @id @default(uuid())
  userId            String
  type              String
  provider          String
  providerAccountId String
  refresh_token     String?
  access_token      String?
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String?
  session_state     String?
  AdminUser         AdminUser @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([provider, providerAccountId])
}

model AdminAuditLog {
  id          String    @id @default(uuid())
  createdAt   DateTime  @default(now())
  action      String
  entityType  String
  entityId    String?
  description String?
  metadata    Json?
  ipAddress   String?
  userAgent   String?
  adminUserId String
  AdminUser   AdminUser @relation(fields: [adminUserId], references: [id])

  @@index([action])
  @@index([adminUserId])
  @@index([createdAt])
  @@index([entityType])
}

model AdminInvitation {
  id             String           @id @default(uuid())
  createdAt      DateTime         @default(now())
  expiresAt      DateTime
  email          String
  token          String           @unique
  status         InvitationStatus @default(PENDING)
  acceptedAt     DateTime?
  invitedBy      String
  invitedByName  String?
  role           SuperAdminRole?
  organizationId String?
  Organization   Organization?    @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  AdminUser      AdminUser        @relation(fields: [invitedBy], references: [id], onDelete: Cascade)

  @@index([email])
  @@index([status])
  @@index([token])
  @@index([invitedBy])
}

model AdminOrganizationAccess {
  id             String       @id @default(uuid())
  createdAt      DateTime     @default(now())
  adminUserId    String
  organizationId String
  canEdit        Boolean      @default(true)
  canDelete      Boolean      @default(false)
  canManageUsers Boolean      @default(false)
  AdminUser      AdminUser    @relation(fields: [adminUserId], references: [id], onDelete: Cascade)
  Organization   Organization @relation(fields: [organizationId], references: [id], onDelete: Cascade)

  @@unique([adminUserId, organizationId])
  @@index([adminUserId])
  @@index([organizationId])
}

model AdminUser {
  id                      String                    @id @default(uuid())
  name                    String?
  email                   String                    @unique
  emailVerified           DateTime?
  image                   String?
  createdAt               DateTime                  @default(now())
  updatedAt               DateTime @updatedAt
  role                    SuperAdminRole            @default(ADMIN)
  status                  AdminStatus               @default(ACTIVE)
  lastLoginAt             DateTime?
  Account                 Account[]
  AdminAuditLog           AdminAuditLog[]
  AdminInvitation         AdminInvitation[]
  AdminOrganizationAccess AdminOrganizationAccess[]
  Session                 Session[]
}

model AuditLog {
  id          String      @id @default(uuid())
  createdAt   DateTime    @default(now())
  userId      Int?
  userName    String?
  userEmail   String?
  action      AuditAction
  module      String
  entityType  String
  entityId    String?
  description String
  oldValue    String?
  newValue    String?
  ipAddress   String?
  userAgent   String?
  metadata    String?

  @@index([action])
  @@index([createdAt])
  @@index([entityType])
  @@index([module])
  @@index([userId])
}

model Automation {
  id                   String                @id @default(uuid())
  name                 String
  description          String?
  status               AutomationStatus      @default(DRAFT)
  triggerType          TriggerType
  triggerConfig        Json?
  totalExecutions      Int                   @default(0)
  successfulExecutions Int                   @default(0)
  failedExecutions     Int                   @default(0)
  lastExecutedAt       DateTime?
  createdAt            DateTime              @default(now())
  updatedAt            DateTime              @updatedAt
  createdBy            String?
  AutomationExecution  AutomationExecution[]
  AutomationStep       AutomationStep[]

  @@index([status])
  @@index([triggerType])
}

model AutomationExecution {
  id                 String     @id @default(uuid())
  automationId       String
  donorId            String?
  donationId         String?
  campaignId         String?
  status             String     @default("PENDING")
  startedAt          DateTime   @default(now())
  completedAt        DateTime?
  results            Json?
  error              String?
  actionsExecuted    Int        @default(0)
  currentActionOrder Int        @default(0)
  scheduledFor       DateTime?
  Automation         Automation @relation(fields: [automationId], references: [id], onDelete: Cascade)

  @@index([automationId])
  @@index([donorId])
  @@index([scheduledFor])
  @@index([status])
}

model AutomationLog {
  id             String              @id @default(uuid())
  createdAt      DateTime            @default(now())
  automationId   String
  automationName String
  donorId        String?
  donorEmail     String?
  status         AutomationLogStatus
  errorMessage   String?
  triggerData    Json?
  actionResult   Json?

  @@index([automationId])
  @@index([createdAt])
  @@index([donorId])
  @@index([status])
}

model AutomationRule {
  id             String            @id @default(uuid())
  createdAt      DateTime          @default(now())
  updatedAt      DateTime @updatedAt
  name           String
  description    String?
  isActive       Boolean           @default(false)
  triggerType    AutomationTrigger
  triggerConfig  Json?
  conditions     Json?
  actionType     AutomationAction
  actionConfig   Json?
  delayMinutes   Int               @default(0)
  delayType      DelayType         @default(IMMEDIATE)
  maxExecutions  Int?
  cooldownHours  Int?
  executionCount Int               @default(0)
  lastExecutedAt DateTime?
  successCount   Int               @default(0)
  failureCount   Int               @default(0)
  EmailCampaign  EmailCampaign[]

  @@index([isActive])
  @@index([triggerType])
}

model AutomationStep {
  id                   String           @id @default(uuid())
  automationId         String
  order                Int
  actionType           ActionType
  config               Json
  conditionField       String?
  conditionOperator    String?
  conditionValue       String?
  parentActionId       String?
  createdAt            DateTime         @default(now())
  updatedAt            DateTime @updatedAt
  Automation           Automation       @relation(fields: [automationId], references: [id], onDelete: Cascade)
  AutomationStep       AutomationStep?  @relation("AutomationStepToAutomationStep", fields: [parentActionId], references: [id])
  other_AutomationStep AutomationStep[] @relation("AutomationStepToAutomationStep")

  @@index([automationId])
  @@index([parentActionId])
}

model Campaign {
  id                 String               @id @default(uuid())
  createdAt          DateTime             @default(now())
  updatedAt          DateTime             @updatedAt
  name               String
  slug               String               @unique
  description        String?
  shortDescription   String?
  campaignType       CampaignType         @default(FUNDRAISING)
  status             CampaignStatus       @default(DRAFT)
  priority           CampaignPriority     @default(MEDIUM)
  startDate          DateTime?
  endDate            DateTime?
  launchDate         DateTime?
  goalAmount         Float?
  minimumGoal        Float?
  stretchGoal        Float?
  totalRaised        Float                @default(0)
  donationCount      Int                  @default(0)
  donorCount         Int                  @default(0)
  averageDonation    Float                @default(0)
  largestDonation    Float                @default(0)
  conversionRate     Float                @default(0)
  primaryColor       String               @default("#6366f1")
  secondaryColor     String               @default("#8b5cf6")
  logoUrl            String?
  bannerUrl          String?
  thumbnailUrl       String?
  thankYouMessage    String?
  impactStatement    String?
  metaTitle          String?
  metaDescription    String?
  ogImage            String?
  isPublic           Boolean              @default(true)
  allowP2P           Boolean              @default(false)
  enableMatching     Boolean              @default(false)
  matchingRatio      Float?
  matchingCap        Float?
  category           String?
  tags               String[]
  CampaignDonor      CampaignDonor[]
  CampaignForm       CampaignForm[]
  CampaignMilestone  CampaignMilestone[]
  CampaignTeamMember CampaignTeamMember[]
  CampaignUpdate     CampaignUpdate[]
  P2PFundraiser      P2PFundraiser[]

  @@index([campaignType])
  @@index([endDate])
  @@index([slug])
  @@index([startDate])
  @@index([status])
}

model CampaignDonor {
  id                String     @id @default(uuid())
  createdAt         DateTime   @default(now())
  updatedAt         DateTime @updatedAt
  totalDonated      Float      @default(0)
  donationCount     Int        @default(0)
  firstDonationDate DateTime?
  lastDonationDate  DateTime?
  largestDonation   Float      @default(0)
  donorLevel        DonorLevel @default(SUPPORTER)
  isRecurring       Boolean    @default(false)
  isMajorDonor      Boolean    @default(false)
  notes             String?
  campaignId        String
  donorId           String
  Campaign          Campaign   @relation(fields: [campaignId], references: [id], onDelete: Cascade)

  @@unique([campaignId, donorId])
  @@index([campaignId])
  @@index([donorId])
  @@index([totalDonated])
}

model CampaignForm {
  id         String   @id @default(uuid())
  createdAt  DateTime @default(now())
  campaignId String
  formId     String
  isPrimary  Boolean  @default(false)
  Campaign   Campaign @relation(fields: [campaignId], references: [id], onDelete: Cascade)

  @@unique([campaignId, formId])
  @@index([campaignId])
}

model CampaignMilestone {
  id           String    @id @default(uuid())
  createdAt    DateTime  @default(now())
  updatedAt    DateTime @updatedAt
  title        String
  description  String?
  targetAmount Float?
  targetDate   DateTime?
  isCompleted  Boolean   @default(false)
  completedAt  DateTime?
  actualAmount Float?
  sortOrder    Int       @default(0)
  icon         String?
  color        String?
  campaignId   String
  Campaign     Campaign  @relation(fields: [campaignId], references: [id], onDelete: Cascade)

  @@index([campaignId])
  @@index([sortOrder])
}

model CampaignTeamMember {
  id           String   @id @default(uuid())
  createdAt    DateTime @default(now())
  name         String
  role         String?
  email        String?
  phone        String?
  photoUrl     String?
  bio          String?
  personalGoal Float?
  totalRaised  Float    @default(0)
  donorCount   Int      @default(0)
  sortOrder    Int      @default(0)
  isVisible    Boolean  @default(true)
  campaignId   String
  Campaign     Campaign @relation(fields: [campaignId], references: [id], onDelete: Cascade)

  @@index([campaignId])
}

model CampaignUpdate {
  id          String    @id @default(uuid())
  createdAt   DateTime  @default(now())
  updatedAt   DateTime @updatedAt
  title       String
  content     String
  imageUrl    String?
  videoUrl    String?
  isPublished Boolean   @default(false)
  publishedAt DateTime?
  viewCount   Int       @default(0)
  shareCount  Int       @default(0)
  campaignId  String
  Campaign    Campaign  @relation(fields: [campaignId], references: [id], onDelete: Cascade)

  @@index([campaignId])
  @@index([publishedAt])
}

model Communication {
  id        String               @id @default(uuid())
  createdAt DateTime             @default(now())
  type      CommunicationType
  channel   CommunicationChannel
  subject   String?
  content   String?
  sentAt    DateTime?
  status    CommunicationStatus  @default(PENDING)
  openedAt  DateTime?
  clickedAt DateTime?
  bouncedAt DateTime?
  donorId   String
  Donor     Donor                @relation(fields: [donorId], references: [id], onDelete: Cascade)

  @@index([donorId])
  @@index([sentAt])
  @@index([type])
}

model ConsentHistory {
  id            String   @id @default(uuid())
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  donorId       String
  consentType   String
  previousValue String?
  newValue      String
  source        String
  reason        String?
  ipAddress     String?
  userAgent     String?
  userId        Int?
  Donor         Donor    @relation(fields: [donorId], references: [id], onDelete: Cascade)

  @@index([createdAt])
  @@index([donorId])
}

model CustomFieldDefinition {
  id               String             @id @default(uuid())
  createdAt        DateTime           @default(now())
  updatedAt        DateTime @updatedAt
  name             String             @unique
  label            String
  fieldType        FieldType
  options          String[]
  isRequired       Boolean            @default(false)
  isActive         Boolean            @default(true)
  sortOrder        Int                @default(0)
  DonorCustomField DonorCustomField[]
}

model DashboardLayout {
  id             String        @id @default(uuid())
  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @updatedAt
  name           String
  description    String?
  isDefault      Boolean       @default(false)
  isShared       Boolean       @default(false)
  layout         Json
  columns        Int           @default(12)
  rowHeight      Int           @default(100)
  userId         Int
  organizationId String?
  Organization   Organization? @relation(fields: [organizationId], references: [id], onDelete: Cascade)

  @@index([organizationId])
  @@index([userId])
}

model DashboardWidget {
  id            String         @id @default(uuid())
  createdAt     DateTime       @default(now())
  updatedAt     DateTime @updatedAt
  widgetType    WidgetType
  config        Json?
  title         String?
  defaultWidth  Int            @default(4)
  defaultHeight Int            @default(2)
  minWidth      Int            @default(2)
  minHeight     Int            @default(1)
  maxWidth      Int?
  maxHeight     Int?
  isActive      Boolean        @default(true)
  isSystem      Boolean        @default(false)
  category      WidgetCategory @default(GENERAL)
  icon          String?
  color         String?

  @@index([category])
  @@index([widgetType])
}

model Donation {
  id              String          @id @default(uuid())
  createdAt       DateTime        @default(now())
  updatedAt       DateTime        @updatedAt
  amount          Float
  currency        String          @default("CAD")
  donationDate    DateTime
  paymentMethod   PaymentMethod
  status          DonationStatus  @default(COMPLETED)
  transactionId   String?         @unique
  receiptNumber   String?
  receiptSentAt   DateTime?
  campaignId      String?
  campaignName    String?
  donationType    DonationType    @default(ONE_TIME)
  isRecurring     Boolean         @default(false)
  recurringId     String?
  dedicationType  DedicationType?
  dedicateeName   String?
  dedicateeEmail  String?
  notifyDedicatee Boolean         @default(false)
  notes           String?
  isAnonymous     Boolean         @default(false)
  donorId         String
  recordedById    Int?
  Donor           Donor           @relation(fields: [donorId], references: [id], onDelete: Cascade)
  User            User?           @relation(fields: [recordedById], references: [id])
  TaxReceipt      TaxReceipt[]

  @@index([campaignId])
  @@index([donationDate])
  @@index([donorId])
  @@index([status])
}

model DonationForm {
  id                  String               @id @default(uuid())
  createdAt           DateTime             @default(now())
  updatedAt           DateTime @updatedAt
  name                String
  slug                String               @unique
  description         String?
  formType            FormType             @default(ONE_TIME)
  status              FormStatus           @default(DRAFT)
  suggestedAmounts    Int[]                @default([25, 50, 100, 250, 500])
  minimumAmount       Float                @default(5)
  maximumAmount       Float?
  allowCustomAmount   Boolean              @default(true)
  defaultAmount       Float?
  recurringOptions    RecurringFrequency[] @default([MONTHLY])
  defaultRecurring    RecurringFrequency?
  primaryColor        String               @default("#6366f1")
  secondaryColor      String               @default("#8b5cf6")
  logoUrl             String?
  bannerUrl           String?
  thankYouMessage     String?
  thankYouRedirectUrl String?
  collectPhone        Boolean              @default(false)
  collectAddress      Boolean              @default(false)
  collectEmployer     Boolean              @default(false)
  collectComment      Boolean              @default(true)
  collectDedication   Boolean              @default(false)
  allowAnonymous      Boolean              @default(true)
  metaTitle           String?
  metaDescription     String?
  ogImage             String?
  campaignId          String?
  campaignName        String?
  totalCollected      Float                @default(0)
  donationCount       Int                  @default(0)
  averageDonation     Float                @default(0)
  startDate           DateTime?
  endDate             DateTime?
  goalAmount          Float?
  DonationSubmission  DonationSubmission[]
  FormField           FormField[]

  @@index([createdAt])
  @@index([formType])
  @@index([slug])
  @@index([status])
}

model DonationSubmission {
  id                 String              @id @default(uuid())
  createdAt          DateTime            @default(now())
  updatedAt          DateTime            @updatedAt
  amount             Float
  currency           String              @default("CAD")
  paymentMethod      PaymentMethod?
  paymentStatus      PaymentStatus       @default(PENDING)
  stripePaymentId    String?
  stripeCustomerId   String?
  transactionId      String?             @unique
  email              String
  firstName          String
  lastName           String
  phone              String?
  address            String?
  city               String?
  state              String?
  postalCode         String?
  country            String?             @default("Canada")
  employer           String?
  isRecurring        Boolean             @default(false)
  recurringFrequency RecurringFrequency?
  nextPaymentDate    DateTime?
  recurringStatus    RecurringStatus?
  dedicationType     DedicationType?
  dedicateeName      String?
  dedicateeEmail     String?
  dedicateeMessage   String?
  notifyDedicatee    Boolean             @default(false)
  isAnonymous        Boolean             @default(false)
  comment            String?
  consentEmail       Boolean             @default(false)
  consentNewsletter  Boolean             @default(false)
  customFields       String?
  receiptNumber      String?
  receiptSentAt      DateTime?
  source             String?
  medium             String?
  campaign           String?
  referrer           String?
  ipAddress          String?
  userAgent          String?
  formId             String
  donorId            String?
  Donor              Donor?              @relation(fields: [donorId], references: [id])
  DonationForm       DonationForm        @relation(fields: [formId], references: [id])

  @@index([createdAt])
  @@index([donorId])
  @@index([email])
  @@index([formId])
  @@index([paymentStatus])
}

model Donor {
  id                           String               @id @default(uuid())
  createdAt                    DateTime             @default(now())
  updatedAt                    DateTime             @updatedAt
  firstName                    String
  lastName                     String
  email                        String?              @unique
  phone                        String?
  mobile                       String?
  dateOfBirth                  DateTime?
  address                      String?
  address2                     String?
  city                         String?
  state                        String?
  postalCode                   String?
  country                      String?              @default("Canada")
  profession                   String?
  employer                     String?
  jobTitle                     String?
  industry                     String?
  status                       DonorStatus          @default(ACTIVE)
  donorType                    DonorType            @default(INDIVIDUAL)
  segment                      String?
  tags                         String[]
  totalDonations               Float                @default(0)
  donationCount                Int                  @default(0)
  averageDonation              Float                @default(0)
  highestDonation              Float                @default(0)
  lastDonationDate             DateTime?
  firstDonationDate            DateTime?
  notes                        String?
  source                       String?
  consentEmail                 Boolean              @default(false)
  consentPhone                 Boolean              @default(false)
  consentMail                  Boolean              @default(false)
  consentDate                  DateTime?
  optOutDate                   DateTime?
  createdById                  Int?
  updatedById                  Int?
  churnRiskScore               Int?
  potentialScore               Int?
  scoreUpdatedAt               DateTime?
  organizationId               String?
  Communication                Communication[]
  ConsentHistory               ConsentHistory[]
  Donation                     Donation[]
  DonationSubmission           DonationSubmission[]
  User_Donor_createdByIdToUser User?                @relation("Donor_createdByIdToUser", fields: [createdById], references: [id])
  Organization                 Organization?        @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  User_Donor_updatedByIdToUser User?                @relation("Donor_updatedByIdToUser", fields: [updatedById], references: [id])
  DonorCustomField             DonorCustomField[]
  DonorPreference              DonorPreference?
  TaxReceipt                   TaxReceipt[]

  @@index([createdAt])
  @@index([email])
  @@index([lastName, firstName])
  @@index([organizationId])
  @@index([segment])
  @@index([status])
  @@index([totalDonations])
}

model DonorCustomField {
  id                    String                @id @default(uuid())
  createdAt             DateTime              @default(now())
  updatedAt             DateTime @updatedAt
  value                 String
  donorId               String
  fieldId               String
  Donor                 Donor                 @relation(fields: [donorId], references: [id], onDelete: Cascade)
  CustomFieldDefinition CustomFieldDefinition @relation(fields: [fieldId], references: [id], onDelete: Cascade)

  @@unique([donorId, fieldId])
}

model DonorPreference {
  id                     String                 @id @default(uuid())
  createdAt              DateTime               @default(now())
  updatedAt              DateTime               @updatedAt
  preferredChannel       CommunicationChannel   @default(EMAIL)
  preferredFrequency     CommunicationFrequency @default(MONTHLY)
  preferredLanguage      String                 @default("fr")
  causesOfInterest       String[]
  preferredAmount        Float?
  preferredPaymentMethod PaymentMethod?
  birthday               DateTime?
  anniversary            DateTime?
  donorId                String                 @unique
  Donor                  Donor                  @relation(fields: [donorId], references: [id], onDelete: Cascade)
}

model DonorSegment {
  id               String      @id @default(uuid())
  createdAt        DateTime    @default(now())
  updatedAt        DateTime @updatedAt
  name             String
  description      String?
  color            String      @default("#8B5CF6")
  icon             String?
  type             SegmentType @default(DYNAMIC)
  rules            String?
  donorCount       Int         @default(0)
  totalValue       Float       @default(0)
  avgDonation      Float       @default(0)
  lastCalculatedAt DateTime?
  isActive         Boolean     @default(true)
  isSystem         Boolean     @default(false)
  createdById      Int?

  @@index([isActive])
  @@index([name])
  @@index([type])
}

model DonorSegmentMembership {
  id        String   @id @default(uuid())
  createdAt DateTime @default(now())
  donorId   String
  segmentId String
  addedBy   Int?
  reason    String?

  @@unique([donorId, segmentId])
  @@index([donorId])
  @@index([segmentId])
}

model EmailCampaign {
  id               String              @id @default(uuid())
  createdAt        DateTime            @default(now())
  updatedAt        DateTime            @updatedAt
  name             String
  description      String?
  campaignType     EmailCampaignType   @default(ONE_TIME)
  status           EmailCampaignStatus @default(DRAFT)
  subject          String?
  preheader        String?
  htmlContent      String?
  segmentRules     Json?
  tags             String[]
  segments         String[]
  scheduledAt      DateTime?
  sentAt           DateTime?
  completedAt      DateTime?
  fromName         String              @default("Nucleus Cause")
  fromEmail        String              @default("noreply@nucleuscause.com")
  replyTo          String?
  isABTest         Boolean             @default(false)
  variantA         Json?
  variantB         Json?
  winningVariant   String?
  totalRecipients  Int                 @default(0)
  sentCount        Int                 @default(0)
  deliveredCount   Int                 @default(0)
  openCount        Int                 @default(0)
  clickCount       Int                 @default(0)
  bounceCount      Int                 @default(0)
  unsubscribeCount Int                 @default(0)
  complaintCount   Int                 @default(0)
  openRate         Float               @default(0)
  clickRate        Float               @default(0)
  bounceRate       Float               @default(0)
  templateId       String?
  automationId     String?
  AutomationRule   AutomationRule?     @relation(fields: [automationId], references: [id])
  EmailTemplate    EmailTemplate?      @relation(fields: [templateId], references: [id])
  EmailRecipient   EmailRecipient[]

  @@index([campaignType])
  @@index([scheduledAt])
  @@index([sentAt])
  @@index([status])
}

model EmailEvent {
  id             String         @id @default(uuid())
  createdAt      DateTime       @default(now())
  recipientId    String
  campaignId     String
  eventType      String
  eventDate      DateTime
  email          String
  url            String?
  ip             String?
  userAgent      String?
  reason         String?
  sgEventId      String?
  sgMessageId    String?
  EmailRecipient EmailRecipient @relation(fields: [recipientId], references: [id], onDelete: Cascade)

  @@index([campaignId])
  @@index([email])
  @@index([eventDate])
  @@index([eventType])
  @@index([recipientId])
}

model EmailRecipient {
  id             String               @id @default(uuid())
  createdAt      DateTime             @default(now())
  updatedAt      DateTime             @updatedAt
  email          String
  firstName      String?
  lastName       String?
  status         EmailRecipientStatus @default(PENDING)
  sentAt         DateTime?
  deliveredAt    DateTime?
  openedAt       DateTime?
  openCount      Int                  @default(0)
  clickedAt      DateTime?
  clickCount     Int                  @default(0)
  clickedLinks   String[]
  bouncedAt      DateTime?
  bounceType     BounceType?
  bounceReason   String?
  unsubscribedAt DateTime?
  complainedAt   DateTime?
  variant        String?
  donorId        String?
  campaignId     String
  EmailEvent     EmailEvent[]
  EmailCampaign  EmailCampaign        @relation(fields: [campaignId], references: [id], onDelete: Cascade)

  @@unique([campaignId, email])
  @@index([campaignId])
  @@index([email])
  @@index([status])
}

model EmailTemplate {
  id            String          @id @default(uuid())
  createdAt     DateTime        @default(now())
  updatedAt     DateTime @updatedAt
  name          String
  description   String?
  category      EmailCategory   @default(GENERAL)
  subject       String?
  preheader     String?
  htmlContent   String?
  textContent   String?
  variables     String[]
  primaryColor  String          @default("#6366f1")
  logoUrl       String?
  footerText    String?
  isActive      Boolean         @default(true)
  isDefault     Boolean         @default(false)
  blocks        Json?
  globalStyle   Json?
  thumbnail     String?
  EmailCampaign EmailCampaign[]

  @@index([category])
  @@index([isActive])
}

model FormField {
  id           String        @id @default(uuid())
  createdAt    DateTime      @default(now())
  updatedAt    DateTime @updatedAt
  name         String
  label        String
  fieldType    FormFieldType
  placeholder  String?
  helpText     String?
  defaultValue String?
  options      String[]
  isRequired   Boolean       @default(false)
  minLength    Int?
  maxLength    Int?
  pattern      String?
  sortOrder    Int           @default(0)
  isVisible    Boolean       @default(true)
  width        FieldWidth    @default(FULL)
  showIf       String?
  formId       String
  DonationForm DonationForm  @relation(fields: [formId], references: [id], onDelete: Cascade)

  @@index([formId])
  @@index([sortOrder])
}

model Integration {
  id             String              @id @default(uuid())
  createdAt      DateTime            @default(now())
  updatedAt      DateTime @updatedAt
  provider       String              @unique
  name           String
  description    String?
  category       IntegrationCategory
  isEnabled      Boolean             @default(false)
  isConfigured   Boolean             @default(false)
  config         String?
  lastSyncAt     DateTime?
  lastSyncStatus String?
  logoUrl        String?
  docsUrl        String?
  webhookUrl     String?

  @@index([category])
  @@index([isEnabled])
  @@index([provider])
}

model Invitation {
  id            String           @id @default(uuid())
  createdAt     DateTime         @default(now())
  expiresAt     DateTime
  email         String
  roleId        String
  token         String           @unique
  status        InvitationStatus @default(PENDING)
  acceptedAt    DateTime?
  invitedBy     Int
  invitedByName String?

  @@index([email])
  @@index([status])
  @@index([token])
}

model MailingList {
  id                    String                  @id @default(uuid())
  createdAt             DateTime                @default(now())
  updatedAt             DateTime @updatedAt
  name                  String
  description           String?
  isPublic              Boolean                 @default(false)
  isDoubleOptIn         Boolean                 @default(true)
  subscriberCount       Int                     @default(0)
  activeCount           Int                     @default(0)
  MailingListSubscriber MailingListSubscriber[]

  @@index([isPublic])
}

model MailingListSubscriber {
  id             String           @id @default(uuid())
  createdAt      DateTime         @default(now())
  updatedAt      DateTime         @updatedAt
  email          String
  firstName      String?
  lastName       String?
  status         SubscriberStatus @default(PENDING)
  confirmedAt    DateTime?
  unsubscribedAt DateTime?
  source         String?
  donorId        String?
  listId         String
  MailingList    MailingList      @relation(fields: [listId], references: [id], onDelete: Cascade)

  @@unique([listId, email])
  @@index([email])
  @@index([listId])
  @@index([status])
}

model Notification {
  id          String               @id @default(uuid())
  createdAt   DateTime             @default(now())
  updatedAt   DateTime @updatedAt
  type        NotificationType
  category    NotificationCategory
  priority    NotificationPriority @default(MEDIUM)
  title       String
  message     String
  actionUrl   String?
  actionLabel String?
  metadata    String?
  donorId     String?
  campaignId  String?
  donationId  String?
  formId      String?
  isRead      Boolean              @default(false)
  readAt      DateTime?
  isDismissed Boolean              @default(false)
  dismissedAt DateTime?
  userId      Int?

  @@index([category])
  @@index([createdAt])
  @@index([isRead])
  @@index([type])
  @@index([userId])
}

model NotificationPreference {
  id                     String   @id @default(uuid())
  createdAt              DateTime @default(now())
  updatedAt              DateTime @updatedAt
  userId                 Int      @unique
  preferences            String   @default("{}")
  majorDonationThreshold Int      @default(1000)
  inactiveDonorDays      Int      @default(180)
  emailEnabled           Boolean  @default(true)
  inAppEnabled           Boolean  @default(true)

  @@index([userId])
}

model Organization {
  id                      String                    @id @default(uuid())
  createdAt               DateTime                  @default(now())
  updatedAt               DateTime @updatedAt
  name                    String
  slug                    String                    @unique
  description             String?
  logoUrl                 String?
  primaryColor            String                    @default("#6366f1")
  secondaryColor          String                    @default("#8b5cf6")
  legalName               String?
  charityNumber           String?
  taxId                   String?
  address                 String?
  city                    String?
  state                   String?
  postalCode              String?
  country                 String                    @default("CA")
  phone                   String?
  email                   String?
  website                 String?
  timezone                String                    @default("America/Toronto")
  currency                String                    @default("CAD")
  language                String                    @default("fr")
  status                  OrganizationStatus        @default(ACTIVE)
  plan                    OrganizationPlan          @default(FREE)
  maxUsers                Int                       @default(5)
  maxDonors               Int                       @default(1000)
  maxCampaigns            Int                       @default(10)
  databaseUrl             String?                   // URL de la base de données dédiée (optionnel, null = base partagée)
  AdminInvitation         AdminInvitation[]
  AdminOrganizationAccess AdminOrganizationAccess[]
  DashboardLayout         DashboardLayout[]
  Donor                   Donor[]
  OrganizationMember      OrganizationMember[]

  @@index([slug])
  @@index([status])
}

model OrganizationMember {
  id             String           @id @default(uuid())
  createdAt      DateTime         @default(now())
  updatedAt      DateTime @updatedAt
  role           OrganizationRole @default(MEMBER)
  permissions    String[]
  status         MemberStatus     @default(ACTIVE)
  invitedAt      DateTime?
  joinedAt       DateTime?
  organizationId String
  userId         Int
  Organization   Organization     @relation(fields: [organizationId], references: [id], onDelete: Cascade)

  @@unique([organizationId, userId])
  @@index([organizationId])
  @@index([userId])
}

model OrganizationSettings {
  id                   String   @id @default(uuid())
  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt
  organizationName     String
  legalName            String?
  charityNumber        String?
  siret                String?
  rna                  String?
  address              String?
  address2             String?
  city                 String?
  state                String?
  postalCode           String?
  country              String   @default("CA")
  phone                String?
  email                String?
  website              String?
  logoUrl              String?
  authorizedSignatory  String?
  signatureUrl         String?
  receiptPrefix        String   @default("")
  autoSendReceipts     Boolean  @default(true)
  receiptEmailSubject  String?
  receiptEmailBody     String?
  minimumReceiptAmount Float    @default(0)

  @@index([charityNumber])
}

model P2PActivity {
  id            String          @id @default(uuid())
  createdAt     DateTime        @default(now())
  activityType  P2PActivityType
  title         String
  description   String?
  imageUrl      String?
  metadata      Json?
  isPublic      Boolean         @default(true)
  fundraiserId  String
  P2PFundraiser P2PFundraiser   @relation(fields: [fundraiserId], references: [id], onDelete: Cascade)

  @@index([activityType])
  @@index([createdAt])
  @@index([fundraiserId])
}

model P2PBadge {
  id            String       @id @default(uuid())
  createdAt     DateTime     @default(now())
  name          String
  description   String
  iconUrl       String?
  color         String       @default("#6366f1")
  badgeType     P2PBadgeType
  threshold     Float?
  pointsAwarded Int          @default(10)
  sortOrder     Int          @default(0)
  isActive      Boolean      @default(true)

  @@index([badgeType])
}

model P2PDonation {
  id            String        @id @default(uuid())
  createdAt     DateTime      @default(now())
  amount        Float
  currency      String        @default("CAD")
  donorName     String?
  donorEmail    String
  isAnonymous   Boolean       @default(false)
  message       String?
  status        PaymentStatus @default(PENDING)
  transactionId String?       @unique
  fundraiserId  String
  donorId       String?
  P2PFundraiser P2PFundraiser @relation(fields: [fundraiserId], references: [id], onDelete: Cascade)

  @@index([createdAt])
  @@index([donorEmail])
  @@index([fundraiserId])
}

model P2PFundraiser {
  id              String        @id @default(uuid())
  createdAt       DateTime      @default(now())
  updatedAt       DateTime @updatedAt
  firstName       String
  lastName        String
  email           String
  phone           String?
  photoUrl        String?
  slug            String        @unique
  title           String
  story           String?
  videoUrl        String?
  goalAmount      Float         @default(500)
  totalRaised     Float         @default(0)
  donationCount   Int           @default(0)
  donorCount      Int           @default(0)
  averageDonation Float         @default(0)
  status          P2PStatus     @default(PENDING)
  approvedAt      DateTime?
  publishedAt     DateTime?
  primaryColor    String        @default("#6366f1")
  coverImageUrl   String?
  points          Int           @default(0)
  level           Int           @default(1)
  badges          String[]
  shareCount      Int           @default(0)
  viewCount       Int           @default(0)
  campaignId      String
  teamId          String?
  donorId         String?
  P2PActivity     P2PActivity[]
  P2PDonation     P2PDonation[]
  Campaign        Campaign      @relation(fields: [campaignId], references: [id], onDelete: Cascade)
  P2PTeam         P2PTeam?      @relation(fields: [teamId], references: [id])

  @@index([campaignId])
  @@index([slug])
  @@index([status])
  @@index([teamId])
  @@index([totalRaised])
}

model P2PLeaderboard {
  id              String            @id @default(uuid())
  createdAt       DateTime          @default(now())
  updatedAt       DateTime @updatedAt
  periodType      LeaderboardPeriod
  periodStart     DateTime
  periodEnd       DateTime
  leaderboardType LeaderboardType
  campaignId      String
  rankings        Json
  isFinal         Boolean           @default(false)

  @@index([campaignId])
  @@index([leaderboardType])
  @@index([periodType])
}

model P2PTeam {
  id            String          @id @default(uuid())
  createdAt     DateTime        @default(now())
  updatedAt     DateTime @updatedAt
  name          String
  slug          String          @unique
  description   String?
  logoUrl       String?
  coverImageUrl String?
  goalAmount    Float           @default(2000)
  totalRaised   Float           @default(0)
  donationCount Int             @default(0)
  memberCount   Int             @default(0)
  status        P2PStatus       @default(PENDING)
  points        Int             @default(0)
  rank          Int?
  campaignId    String
  captainId     String?
  P2PFundraiser P2PFundraiser[]

  @@index([campaignId])
  @@index([slug])
  @@index([totalRaised])
}

model Permission {
  id             String           @id @default(uuid())
  createdAt      DateTime         @default(now())
  updatedAt      DateTime @updatedAt
  code           String           @unique
  name           String
  description    String?
  module         String
  RolePermission RolePermission[]

  @@index([code])
  @@index([module])
}

model Role {
  id                 String               @id @default(uuid())
  createdAt          DateTime             @default(now())
  updatedAt          DateTime @updatedAt
  name               String               @unique
  description        String?
  isSystem           Boolean              @default(false)
  isActive           Boolean              @default(true)
  color              String?              @default("#6366f1")
  RolePermission     RolePermission[]
  UserRoleAssignment UserRoleAssignment[]

  @@index([isActive])
  @@index([name])
}

model RolePermission {
  id           String     @id @default(uuid())
  createdAt    DateTime   @default(now())
  roleId       String
  permissionId String
  Permission   Permission @relation(fields: [permissionId], references: [id], onDelete: Cascade)
  Role         Role       @relation(fields: [roleId], references: [id], onDelete: Cascade)

  @@unique([roleId, permissionId])
  @@index([permissionId])
  @@index([roleId])
}

model Session {
  id           String    @id @default(uuid())
  sessionToken String    @unique
  userId       String
  expires      DateTime
  AdminUser    AdminUser @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model SystemSetting {
  id          String          @id @default(uuid())
  createdAt   DateTime        @default(now())
  updatedAt   DateTime @updatedAt
  key         String          @unique
  value       String
  category    String
  label       String
  description String?
  dataType    SettingDataType
  isRequired  Boolean         @default(false)
  options     String?
  isSecret    Boolean         @default(false)
  isReadOnly  Boolean         @default(false)

  @@index([category])
  @@index([key])
}

model TaxReceipt {
  id             String        @id @default(uuid())
  createdAt      DateTime      @default(now())
  updatedAt      DateTime @updatedAt
  receiptNumber  String        @unique
  year           Int
  sequenceNumber Int
  donationId     String
  donorId        String
  donorName      String
  donorAddress   String?
  donorEmail     String?
  amount         Float
  donationDate   DateTime
  issueDate      DateTime      @default(now())
  receiptType    ReceiptType   @default(SINGLE)
  country        String        @default("CA")
  pdfUrl         String?
  pdfKey         String?
  status         ReceiptStatus @default(GENERATED)
  sentAt         DateTime?
  sentTo         String?
  voidedAt       DateTime?
  voidedBy       Int?
  voidReason     String?
  replacedById   String?
  Donation       Donation      @relation(fields: [donationId], references: [id])
  Donor          Donor         @relation(fields: [donorId], references: [id])

  @@index([donationId])
  @@index([donorId])
  @@index([receiptNumber])
  @@index([status])
  @@index([year, sequenceNumber])
}

model User {
  id                            Int        @id @default(autoincrement())
  email                         String     @unique
  name                          String?
  role                          UserRole   @default(USER)
  createdAt                     DateTime   @default(now())
  updatedAt                     DateTime @updatedAt
  Donation                      Donation[]
  Donor_Donor_createdByIdToUser Donor[]    @relation("Donor_createdByIdToUser")
  Donor_Donor_updatedByIdToUser Donor[]    @relation("Donor_updatedByIdToUser")
}

model UserRoleAssignment {
  id         String    @id @default(uuid())
  createdAt  DateTime  @default(now())
  updatedAt  DateTime @updatedAt
  userId     Int
  roleId     String
  startDate  DateTime?
  endDate    DateTime?
  assignedBy Int?
  Role       Role      @relation(fields: [roleId], references: [id], onDelete: Cascade)

  @@unique([userId, roleId])
  @@index([roleId])
  @@index([userId])
}

model VerificationToken {
  identifier String
  token      String   @unique
  expires    DateTime

  @@unique([identifier, token])
}

enum ActionType {
  SEND_EMAIL
  SEND_SMS
  CREATE_TASK
  ADD_TAG
  REMOVE_TAG
  UPDATE_SEGMENT
  NOTIFY_TEAM
  WAIT
  CONDITION
}

enum AdminStatus {
  ACTIVE
  INACTIVE
  SUSPENDED
}

enum AuditAction {
  CREATE
  READ
  UPDATE
  DELETE
  LOGIN
  LOGOUT
  EXPORT
  IMPORT
  SEND_EMAIL
  PERMISSION_CHANGE
  SETTINGS_CHANGE
}

enum AutomationAction {
  SEND_EMAIL
  SEND_SMS
  ADD_TAG
  REMOVE_TAG
  UPDATE_SEGMENT
  CREATE_TASK
  NOTIFY_TEAM
  WEBHOOK
}

enum AutomationLogStatus {
  SUCCESS
  FAILED
  SKIPPED
  PENDING
}

enum AutomationStatus {
  ACTIVE
  PAUSED
  DRAFT
  ARCHIVED
}

enum AutomationTrigger {
  NEW_DONOR
  FIRST_DONATION
  DONATION_RECEIVED
  RECURRING_STARTED
  RECURRING_CANCELLED
  BIRTHDAY
  DONATION_ANNIVERSARY
  MEMBERSHIP_ANNIVERSARY
  INACTIVE_30_DAYS
  INACTIVE_90_DAYS
  INACTIVE_365_DAYS
  FORM_SUBMITTED
  FORM_ABANDONED
  CAMPAIGN_STARTED
  CAMPAIGN_ENDING
  CAMPAIGN_GOAL_REACHED
  MANUAL
  SCHEDULED
}

enum BounceType {
  HARD
  SOFT
  TRANSIENT
}

enum CampaignPriority {
  LOW
  MEDIUM
  HIGH
  CRITICAL
}

enum CampaignStatus {
  DRAFT
  SCHEDULED
  ACTIVE
  PAUSED
  COMPLETED
  CANCELLED
  ARCHIVED
}

enum CampaignType {
  FUNDRAISING
  ANNUAL_FUND
  CAPITAL
  EMERGENCY
  EVENT
  PEER_TO_PEER
  CROWDFUNDING
  MATCHING
  PLANNED_GIVING
}

enum CommunicationChannel {
  EMAIL
  PHONE
  SMS
  MAIL
  SOCIAL_MEDIA
}

enum CommunicationFrequency {
  WEEKLY
  BIWEEKLY
  MONTHLY
  QUARTERLY
  YEARLY
  NEVER
}

enum CommunicationStatus {
  PENDING
  SENT
  DELIVERED
  OPENED
  CLICKED
  BOUNCED
  FAILED
}

enum CommunicationType {
  THANK_YOU
  RECEIPT
  NEWSLETTER
  APPEAL
  EVENT_INVITATION
  SURVEY
  REMINDER
  OTHER
}

enum DedicationType {
  IN_MEMORY
  IN_HONOR
  TRIBUTE
}

enum DelayType {
  IMMEDIATE
  MINUTES
  HOURS
  DAYS
  SPECIFIC_TIME
}

enum DonationStatus {
  PENDING
  COMPLETED
  FAILED
  REFUNDED
  CANCELLED
}

enum DonationType {
  ONE_TIME
  MONTHLY
  QUARTERLY
  ANNUAL
  PLEDGE
}

enum DonorLevel {
  SUPPORTER
  CONTRIBUTOR
  PATRON
  BENEFACTOR
  CHAMPION
  VISIONARY
}

enum DonorStatus {
  ACTIVE
  INACTIVE
  LAPSED
  DECEASED
  DO_NOT_CONTACT
  PENDING
}

enum DonorType {
  INDIVIDUAL
  CORPORATE
  FOUNDATION
  GOVERNMENT
  ANONYMOUS
}

enum EmailCampaignStatus {
  DRAFT
  SCHEDULED
  SENDING
  SENT
  PAUSED
  CANCELLED
  FAILED
}

enum EmailCampaignType {
  ONE_TIME
  RECURRING
  AUTOMATED
  TRANSACTIONAL
}

enum EmailCategory {
  GENERAL
  THANK_YOU
  RECEIPT
  NEWSLETTER
  APPEAL
  EVENT
  REMINDER
  WELCOME
  BIRTHDAY
  ANNIVERSARY
  REACTIVATION
}

enum EmailRecipientStatus {
  PENDING
  QUEUED
  SENT
  DELIVERED
  OPENED
  CLICKED
  BOUNCED
  UNSUBSCRIBED
  COMPLAINED
  FAILED
}

enum FieldType {
  TEXT
  NUMBER
  DATE
  BOOLEAN
  SELECT
  MULTISELECT
  URL
  EMAIL
  PHONE
}

enum FieldWidth {
  FULL
  HALF
  THIRD
}

enum FormFieldType {
  TEXT
  EMAIL
  PHONE
  NUMBER
  TEXTAREA
  SELECT
  RADIO
  CHECKBOX
  DATE
  HIDDEN
}

enum FormStatus {
  DRAFT
  PUBLISHED
  ARCHIVED
  SCHEDULED
}

enum FormType {
  ONE_TIME
  RECURRING
  TICKETING
  IN_MEMORIAM
  PEER_TO_PEER
  PLEDGE
}

enum IntegrationCategory {
  PAYMENT
  EMAIL
  CRM
  ACCOUNTING
  SOCIAL
  ANALYTICS
  OTHER
}

enum InvitationStatus {
  PENDING
  ACCEPTED
  EXPIRED
  REVOKED
}

enum LeaderboardPeriod {
  DAILY
  WEEKLY
  MONTHLY
  ALL_TIME
}

enum LeaderboardType {
  AMOUNT_RAISED
  DONOR_COUNT
  POINTS
  TEAM
}

enum MemberStatus {
  ACTIVE
  INACTIVE
  INVITED
  SUSPENDED
}

enum NotificationCategory {
  DONATIONS
  DONORS
  CAMPAIGNS
  FORMS
  EMAILS
  P2P
  SYSTEM
}

enum NotificationPriority {
  LOW
  MEDIUM
  HIGH
  URGENT
}

enum NotificationType {
  NEW_DONATION
  MAJOR_DONATION
  RECURRING_CANCELLED
  RECURRING_FAILED
  NEW_DONOR
  DONOR_MILESTONE
  DONOR_INACTIVE
  CAMPAIGN_GOAL_50
  CAMPAIGN_GOAL_75
  CAMPAIGN_GOAL_100
  CAMPAIGN_ENDING
  CAMPAIGN_ENDED
  FORM_SUBMISSION
  FORM_ERROR
  EMAIL_BOUNCED
  EMAIL_CAMPAIGN_SENT
  EMAIL_LOW_OPEN_RATE
  P2P_NEW_FUNDRAISER
  P2P_GOAL_REACHED
  SYSTEM_ALERT
  SYSTEM_INFO
}

enum OrganizationPlan {
  FREE
  STARTER
  PROFESSIONAL
  ENTERPRISE
}

enum OrganizationRole {
  OWNER
  ADMIN
  MANAGER
  ANALYST
  MEMBER
  VIEWER
}

enum OrganizationStatus {
  ACTIVE
  INACTIVE
  SUSPENDED
  PENDING
}

enum P2PActivityType {
  PAGE_CREATED
  DONATION_RECEIVED
  GOAL_REACHED
  MILESTONE_REACHED
  BADGE_EARNED
  SHARE_SOCIAL
  UPDATE_POSTED
  TEAM_JOINED
}

enum P2PBadgeType {
  FIRST_DONATION
  AMOUNT_RAISED
  DONOR_COUNT
  GOAL_PERCENT
  SOCIAL_SHARE
  STREAK
  TOP_FUNDRAISER
  TEAM_PLAYER
  EARLY_BIRD
  STORY_TELLER
}

enum P2PStatus {
  PENDING
  APPROVED
  ACTIVE
  PAUSED
  COMPLETED
  CANCELLED
}

enum PaymentMethod {
  CREDIT_CARD
  DEBIT
  BANK_TRANSFER
  CHECK
  CASH
  PAYPAL
  OTHER
}

enum PaymentStatus {
  PENDING
  PROCESSING
  COMPLETED
  FAILED
  REFUNDED
  CANCELLED
}

enum ReceiptStatus {
  GENERATED
  SENT
  DOWNLOADED
  VOIDED
}

enum ReceiptType {
  SINGLE
  ANNUAL
  REPLACEMENT
}

enum RecurringFrequency {
  WEEKLY
  BIWEEKLY
  MONTHLY
  QUARTERLY
  YEARLY
}

enum RecurringStatus {
  ACTIVE
  PAUSED
  CANCELLED
  FAILED
  COMPLETED
}

enum SegmentType {
  STATIC
  DYNAMIC
  SMART
}

enum SettingDataType {
  STRING
  NUMBER
  BOOLEAN
  JSON
  EMAIL
  URL
  COLOR
  SELECT
}

enum SubscriberStatus {
  PENDING
  ACTIVE
  UNSUBSCRIBED
  BOUNCED
  COMPLAINED
}

enum SuperAdminRole {
  SUPER_ADMIN
  ADMIN
  SUPPORT
}

enum TriggerType {
  NEW_DONOR
  POST_DONATION
  DONATION_ANNIVERSARY
  DONOR_BIRTHDAY
  INACTIVE_DONOR
  CAMPAIGN_GOAL_REACHED
  RECURRING_CANCELLED
  UPGRADE_OPPORTUNITY
  MANUAL
  SCHEDULED
}

enum UserRole {
  ADMIN
  MANAGER
  ANALYST
  VIEWER
  USER
}

enum WidgetCategory {
  GENERAL
  DONATIONS
  DONORS
  CAMPAIGNS
  ANALYTICS
  ALERTS
  TOOLS
}

enum WidgetType {
  STAT_TOTAL_DONATIONS
  STAT_DONOR_COUNT
  STAT_AVERAGE_DONATION
  STAT_MONTHLY_REVENUE
  STAT_CONVERSION_RATE
  STAT_RETENTION_RATE
  CHART_DONATIONS_OVER_TIME
  CHART_DONATIONS_BY_TYPE
  CHART_DONATIONS_BY_CAMPAIGN
  CHART_DONOR_SEGMENTS
  CHART_GEOGRAPHIC_DISTRIBUTION
  CHART_RECURRING_VS_ONETIME
  LIST_TOP_DONORS
  LIST_RECENT_DONATIONS
  LIST_ACTIVE_CAMPAIGNS
  LIST_UPCOMING_EVENTS
  LIST_AT_RISK_DONORS
  ALERT_CHURN_RISK
  ALERT_GOAL_PROGRESS
  ALERT_PENDING_TASKS
  CALENDAR_EVENTS
  QUICK_ACTIONS
  NOTES
  CUSTOM_EMBED
}
